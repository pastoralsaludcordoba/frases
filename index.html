<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Mensajes de Esperanza — Pastoral de la Salud Córdoba</title>
<meta name="description" content="Mensajes bíblicos de esperanza, consuelo y fortaleza para enfermos, familiares, médicos y acompañantes. Pastoral de la Salud de la Arquidiócesis de Córdoba.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
font-family:system-ui;
background:#fff;
color:#333;
padding:32px;
display:flex;
flex-direction:column;
align-items:center;
text-align:center;
}
.logo{width:150px;margin-bottom:20px;}
.title{font-size:2.5rem;font-weight:700;color:#ff7a00;margin-bottom:6px;}
.subtitle{color:#777;margin-bottom:30px;}
.message{
font-size:1.7rem;
font-weight:700;
margin-bottom:20px;
}
.buttons{
display:flex;
flex-direction:column;
gap:12px;
width:240px;
}
button{
border:none;
border-radius:999px;
padding:12px;
font-weight:600;
cursor:pointer;
color:#fff;
}
.primary{background:#ff7a00;}
.secondary{background:#005bbb;}
</style>
</head>

<body>

<h1 class="title">No estás solo</h1>
<h2 class="subtitle">Con Jesús te acompañamos</h2>

<p id="message" class="message">Cargando mensaje...</p>

<div class="buttons">
<button class="primary" onclick="newMessage()">Más mensajes</button>
<button class="secondary" onclick="share()">Compartir</button>
</div>

<script>let frases = [];
let orden = [];
let posicion = 0;

async function loadFrases(){
const res = await fetch('frases.txt');
const text = await res.text();

frases = text.split('\\n').filter(f=>f.trim()!=='');

// recuperar orden guardado
orden = JSON.parse(localStorage.getItem('ordenFrases'));

if(!orden || orden.length !== frases.length){
orden = [...Array(frases.length).keys()];

// mezclar (Fisher-Yates shuffle)
for(let i = orden.length -1; i>0; i--){
const j = Math.floor(Math.random()*(i+1));
[orden[i],orden[j]]=[orden[j],orden[i]];
}

localStorage.setItem('ordenFrases',JSON.stringify(orden));
localStorage.setItem('posicionFrases',0);
}

posicion = Number(localStorage.getItem('posicionFrases')) || 0;

mostrarMensaje();
}

function mostrarMensaje(){

if(posicion >= orden.length){
posicion = 0;
localStorage.setItem('posicionFrases',0);
}

const frase = frases[orden[posicion]];

document.getElementById('message').innerText = '"' + frase + '"';

localStorage.setItem('posicionFrases',posicion);
}

function newMessage(){
posicion++;
mostrarMensaje();
}
</script>

</body>
</html>
